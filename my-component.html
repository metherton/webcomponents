<template xmlns:style="http://www.w3.org/1999/html">
    <style>
        p {
            color:red;
        }
    </style>
    <p>My web component</p>
</template>

<script>
    const $owner = (document._currentScript || document.currentScript).ownerDocument;
    const $template = $owner.querySelector('template');

    class MyComponent extends HTMLElement {
        connectedCallback() {
            const $content = document.importNode($template.content, true);
            this.appendChild($content)
        }
    }
    window.customElements.define('my-component', MyComponent);
</script>
